<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <title>Norway Adventure</title>

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
  <!-- Standard Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin="" />
  <link rel="stylesheet" href="leaflet.awesome-markers.css">
  <link rel="stylesheet" href="leaflet-sidebar.css">

  <!-- Make sure you put this AFTER Leaflet's CSS -->
  <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js" integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg==" crossorigin=""></script>
  <script src="https://code.jquery.com/jquery-3.4.0.min.js"></script>
  <script src="leaflet.awesome-markers.js" charset="utf-8"></script>
  <script src="leaflet-sidebar.js" charset="utf-8"></script>

  <script src="Data/locaties.geojson.js" charset="utf-8"></script>
  <script src="Data/Roadtrip.geojson.js" charset="utf-8"></script>

  <style media="screen">
    body {
      padding: 0;
      margin: 0;
    }

    html,
    body,
    #map {
      height: 100%;
      width: 100%;
    }

    .accordion {
      background-color: none;
      color: #002868;
      cursor: pointer;
      padding: 0 18px;
      width: 100%;
      border: none;
      border-color: rgba(51, 51, 51);
      text-align: left;
      outline: none;
      font-size: 15px;
      transition: 0.4s;
    }

    .active,
    .accordion:hover {
      background-color: #fff;
    }

    .panel {
      padding: 0 18px;
      display: none;
      background-color: white;
      overflow: hidden;
    }

    .leaflet-sidebar-text {
      padding: 0 18px;
    }
  </style>
</head>

<body>
  <div id="sidebar" class="leaflet-sidebar collapsed">
    <!-- Nav tabs -->
    <div class="leaflet-sidebar-tabs">
      <ul role="tablist">
        <!-- top aligned tabs -->
        <li><a href="#home" role="tab"><i class="fa fa-home"></i></a></li>
        <li><a href="#hiking" role="tab"><i class="fa fa-hiking"></i></a></li>
        <li><a href="#siteseeing" role="tab"><i class="fa fa-binoculars"></i></a></li>
        <li><a href="#monument" role="tab"><i class="fa fa-university"></i></a></li>
      </ul>

      <ul role="tablist">
        <!-- bottom aligned tabs -->
        <li><a href="#settings" role="tab"><i class="fa fa-gear"></i></a></li>
      </ul>
    </div>

    <!-- Tab panes -->
    <div class="leaflet-sidebar-content">
      <div class="leaflet-sidebar-pane" id="home">
        <h1 class="leaflet-sidebar-header">
          Start
          <div class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></div>
        </h1>
        <div class="leaflet-sidebar-text">
        </div>
      </div>

      <div class="leaflet-sidebar-pane" id="hiking">
        <h1 class="leaflet-sidebar-header">
          Wandelingen
          <div class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></div>
        </h1>
        <button class="accordion"><strong>Section 1</strong></button>
        <div class="panel">
          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>

        <button class="accordion">Section 2</button>
        <div class="panel">
          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>

        <button class="accordion">Section 3</button>
        <div class="panel">
          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>

      </div>

      <div class="leaflet-sidebar-pane" id="siteseeing">
        <h1 class="leaflet-sidebar-header">
          Siteseeing
          <div class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></div>
        </h1>
        <div class="leaflet-sidebar-text">
        <p>A responsive sidebar for mapping libraries</p>
      </div>
      </div>

      <div class="leaflet-sidebar-pane" id="monument">
        <h1 class="leaflet-sidebar-header">
          Monumemten
          <div class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></div>
        </h1>
        <div class="leaflet-sidebar-text">
          <p>A responsive sidebar for mapping libraries</p>
        </div>

      </div>
    </div>
  </div>

  <div id="map"></div>

  <script>
    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++) {
      acc[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var panel = this.nextElementSibling;
        if (panel.style.display === "block") {
          panel.style.display = "none";
        } else {
          panel.style.display = "block";
        }
      });
    }
    // Creates a red marker with the coffee icon
    var wandelMarker = L.AwesomeMarkers.icon({
      icon: 'hiking',
      prefix: 'fa',
      markerColor: 'green',
      iconColor: 'white'
    });

    var monumentMarker = L.AwesomeMarkers.icon({
      icon: 'university',
      prefix: 'fa',
      markerColor: 'red',
      iconColor: 'white'
    });

    var siteMarker = L.AwesomeMarkers.icon({
      icon: 'binoculars',
      prefix: 'fa',
      markerColor: 'blue',
      iconColor: 'white'
    });

    var homeMarker = L.AwesomeMarkers.icon({
      icon: 'home',
      prefix: 'fa',
      markerColor: 'orange',
      iconColor: 'white'
    });

    var transportMarker = L.AwesomeMarkers.icon({
      icon: 'ship',
      prefix: 'fa',
      markerColor: 'darkpurple',
      iconColor: 'white'
    });

    var mapOptions = {
      minZoom: 9,
      maxZoom: 24,
      zoomControl: true,
    };

    var map = L.map("map", mapOptions).setView([60.3736, 5.3367], 12);

    var Hydda_Full = L.tileLayer('https://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png', {
      maxZoom: 18,
      attribution: 'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    var locations = new L.geoJSON(json_locaties, {
      onEachFeature: function(feature, layer) {
        layer.bindPopup('<h2> ' + feature.properties.Name + ' </h2><b> ' + feature.properties.Date + ' </b>');
        layer.on('mouseover', function() {
          layer.openPopup();
        });
        layer.on('mouseout', function() {
          layer.closePopup();
        });
      },
      pointToLayer: function(feature, latLng) {
        if (feature.properties.Categorie == "Wandeling") {
          return new L.Marker(latLng, {
            icon: wandelMarker
          });

        }
        if (feature.properties.Categorie == "Monument") {
          return new L.Marker(latLng, {
            icon: monumentMarker
          });

        }
        if (feature.properties.Categorie == "Siteseeing") {
          return new L.Marker(latLng, {
            icon: siteMarker
          });

        }
        if (feature.properties.Categorie == "Home") {
          return new L.Marker(latLng, {
            icon: homeMarker
          });

        }
        if (feature.properties.Categorie == "Transport") {
          return new L.Marker(latLng, {
            icon: transportMarker
          });

        }
      }
    }).addTo(map).on('click', function() {
      sidebar.toggle();
    });

    var routes = new L.geoJSON(json_routes, {}).addTo(map);

    map.on('click', function() {
      sidebar.hide();
    });

    var sidebar = L.control.sidebar({
      autopan: false, // whether to maintain the centered map point when opening the sidebar
      closeButton: true, // whether t add a close button to the panes
      container: 'sidebar', // the DOM container or #ID of a predefined sidebar container that should be used
      position: 'left', // left or right
    }).addTo(map);

    var poiLayers = L.layerGroup([
        L.geoJson(wandelingen),
        L.geoJson(siteseeing),
        L.geoJson(monumenten),
        L.geoJson(panorama)
      ])
      .addTo(map);

    L.control.search({
        layer: poiLayers,
        initial: false,
        propertyName: 'name',
        buildTip: function(text, val) {
          var type = val.layer.feature.properties.Categorie;
          return '<a href="#" class="' + type + '">' + text + '<b>' + type + '</b></a>';
        }
      })
      .addTo(map);
  </script>

</body>

</html>
